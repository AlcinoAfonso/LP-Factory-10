{
  "meta": {
    "datetime": "",
    "origin": "ajuste pontual",
    "scope": "documentacao",
    "execution_mode": "github_actions",
    "target_doc": "docs/roadmap.md",
    "warnings": [
      "meta.datetime ausente/invalido: nao foi fornecida a primeira linha do relatorio humano no formato \"DD/MM/YYYY HH:MM — ...\"; definido como string vazia.",
      "A2 omitida (replace_section target=10.4.4): anti-truncamento violado; content contem \"...\" (\"https://...\") em pelo menos uma linha."
    ]
  },
  "ops": [
    {
      "op": "replace_section",
      "target": "0.1",
      "mode": "shallow",
      "doc_path": "docs/roadmap.md",
      "content": "0.1 Cabeçalho\n• Data: 21/02/2026\n• Versão: v1.5.21\n"
    },
    {
      "op": "replace_section",
      "target": "10.4.7",
      "mode": "shallow",
      "doc_path": "docs/roadmap.md",
      "content": "10.4.7 Refinar UX (pós-implementação E10.4)\n• Status: Concluído (exec) (21/02/2026)\n• Objetivo: corrigir fricções e inconsistências de UX identificadas após a execução do E10.4, sem alterar o objetivo do fluxo (concluir setup e seguir para E10.5).\n• Escopo: ajustes de formulário, validação e microinterações na tela “Primeiros passos” (formulário inline).\n• Dependências: E10.4.6 (exec do runtime do E10.4)\n• ARTEFATOS_REPO (paths):\n• Criados:\n• src/lib/onboarding/e10_4_setup_validation.ts\n• Ajustados:\n• app/a/[account]/page.tsx\n• app/a/[account]/actions.ts\n\n10.4.7.1 Preservar dados do formulário em erro (não resetar campos corretos)\n• Status: Concluído (exec) (21/02/2026)\n• Regra de UX: em erro de validação/submissão, manter todos os valores já preenchidos e destacar apenas o(s) campo(s) inválido(s) com erro inline.\n\n10.4.7.2 Campo “site” aceitar domínio sem https:// (normalização)\n• Status: Concluído (exec) (21/02/2026)\n• Regra de UX: aceitar formatos simples (ex.: unicodigital.com.br, [www.unicodigital.com.br](http://www.unicodigital.com.br), unicodigital.com) e também URL completa.\n• Regra de normalização: se o usuário não informar esquema (http:// ou https://), o sistema deve prefixar https:// internamente (armazenamento/uso).\n\n10.4.7.3 Indicar campo obrigatório com asterisco em “Nome do projeto”\n• Status: Briefing\n• Problema: falta de sinalização clara do campo obrigatório aumenta tentativa/erro no submit.\n• Regra de UX: label “Nome do projeto*” (asterisco) + erro inline quando vazio.\n• Saída esperada: obrigatoriedade explícita no primeiro contato, reduzindo falhas.\n\n10.4.7.4 Ajustes finos de microcopy e labels (se necessário)\n• Status: Briefing\n• Escopo: microcopy curta acima do formulário e labels/ajudas dos campos (sem aumentar fricção).\n• Saída esperada: texto mais claro e objetivo, sem “marketing longo”, mantendo o padrão de empty state acionável.\n\n10.4.7.5 Nome do projeto (placeholder + CTA gated + erro não “grudado”)\n• Status: Concluído (exec) (21/02/2026)\n• Regra de UX: campo inicia vazio com placeholder (ex.: “Ex.: Unico Digital”).\n• Regra de UX: botão “Salvar e continuar” desabilitado até nome válido.\n• Regra de UX: após correção, erros não ficam “grudados”.\n\n10.4.7.6 Teclado/Enter + foco (desktop e mobile)\n• Status: Concluído (exec) (21/02/2026)\n• Regra de UX: Enter só submete quando válido.\n• Regra de UX: se inválido, não submete, mostra erro e foca no primeiro inválido.\n• Regra de UX (mobile): fluxo sem botões “Next”.\n\n10.4.7.7 Mobile progressive disclosure (sequência de campos)\n• Status: Concluído (exec) (21/02/2026)\n• Regra de UX (mobile): exibir campos em sequência (Nome+Nicho → Canal → WhatsApp condicional → Site por último), bloqueando avanço quando há erro.\n"
    },
    {
      "op": "insert_after_heading",
      "heading": "99. Changelog",
      "doc_path": "docs/roadmap.md",
      "content": "v1.5.21 (21/02/2026)\n• E10.4.7 concluído (exec): refinamentos de UX no “Primeiros passos” (sem reset de campos em erro; nome com placeholder + CTA gated; Enter com foco no primeiro inválido; progressive disclosure no mobile; site_url aceita domínio sem esquema e normaliza para https://), com ARTEFATOS_REPO (criados/ajustados) registrados.\n"
    }
  ],
  "rules": {
    "fail_if_anchor_missing": true,
    "fail_if_target_missing": true,
    "fail_if_section_already_exists_on_insert": true,
    "fail_if_ambiguous_match": true,
    "no_renumber": true,
    "no_reformat": true,
    "no_out_of_scope_changes": true
  }
}
